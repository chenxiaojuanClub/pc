function header(){var oHead=document.getElementById("header");var oUll=oHead.getElementsByTagName("ul")[0];var oUlr=oHead.getElementsByTagName("ul")[1];function headerTab(obj,i){var oLi=obj.getElementsByTagName("li")[i];var oDiv1=oLi.getElementsByTagName("div")[0];var oDiv2=oLi.getElementsByTagName("div")[1];oLi.onmouseover=function(){utils.addClass(oDiv1,"hover");utils.setCss(oDiv2,"display","block")};oLi.onmouseout=function(){utils.removeClass(oDiv1,"hover");utils.setCss(oDiv2,"display","none")}}headerTab(oUll,0);headerTab(oUlr,4);headerTab(oUlr,18);headerTab(oUlr,20);headerTab(oUlr,22);headerTab(oUlr,32)}header();function shoping(){var oShop=document.getElementById("shop");var oSpace=oShop.getElementsByTagName("div")[0];var oShopH=oShop.getElementsByTagName("div")[1];var oShopBox=oShop.getElementsByTagName("div")[2];oShop.onmouseenter=function(e){e=e||window.event;var oTo=e.fromElement||e.relatedTarget;if(this.contains(oTo)){return}oShopBox.style.display="block";oShopH.className="shop_pay_box hover";oSpace.style.display="block"};oShop.onmouseleave=function(e){e=e||window.event;var oTo=e.toElement||e.relatedTarget;if(this.contains(oTo)){return}oShopBox.style.display="none";oShopH.className="shop_pay_box ";oSpace.style.display="none"}}shoping();function nav(){var oNav=document.getElementById("side_nav");var oLi=oNav.getElementsByTagName("li");var oItem=document.getElementById("item");var aDiv=utils.getByClass("item",oItem);for(var i=0,len=oLi.length;i<len;i++){(function(index){oLi[index].onmouseover=function(){utils.removeClass(aDiv[index],"hide");aDiv[index].onmouseover=function(){utils.removeClass(aDiv[index],"hide")}};oLi[index].onmouseout=function(){utils.addClass(aDiv[index],"hide");aDiv[index].onmouseout=function(){utils.addClass(aDiv[index],"hide")}}})(i)}}nav();function Banner(){this.oBox=document.getElementById("banner");this.oBoxInner=this.oBox.getElementsByTagName("div")[0];this.aDiv=this.oBoxInner.getElementsByTagName("div");this.aImg=this.oBoxInner.getElementsByTagName("img");this.oUl=this.oBox.getElementsByTagName("ul")[0];this.aLi=this.oUl.getElementsByTagName("li");this.oPrev=this.oBox.getElementsByTagName("a")[0];this.oNext=this.oBox.getElementsByTagName("a")[1];this.step=0;this.timer=null;this.init()}Banner.prototype={constructor:Banner,init:function(){var that=this;this.lazyImg();clearInterval(this.timer);this.timer=setInterval(function(){that.autoMove()},2000);this.toMove();this.handleChange();this.prev_nextClick()},lazyImg:function lazyImg(){var that=this;for(var i=0;i<this.aImg.length;i++){(function(index){var cur=that.aImg[index];var tmpImg=new Image;tmpImg.src=cur.getAttribute("realImg");tmpImg.onload=function(){cur.src=this.src;var oDiv1=that.aDiv[0];utils.Css(oDiv1,"zIndex",1);animate(oDiv1,{opacity:1},500)}})(i)}},autoMove:function autoMove(){if(this.step>=this.aDiv.length-1){this.step=-1}this.step++;this.setBanner()},setBanner:function setBanner(){for(var i=0;i<this.aDiv.length;i++){if(i===this.step){utils.Css(this.aDiv[i],"zIndex",1);animate(this.aDiv[i],{opacity:1},1000,function(){var siblings=utils.siblings(this);for(var i=0;i<siblings.length;i++){animate(siblings[i],{opacity:0})}});continue}utils.Css(this.aDiv[i],"zIndex",0)}this.bannerTip()},bannerTip:function bannerTip(){for(var i=0;i<this.aLi.length;i++){this.aLi[i].className=i==this.step?"active":null}},toMove:function toMove(){var that=this;this.oBox.onmouseover=function(){clearInterval(that.timer);utils.Css(that.oPrev,{display:"block"});utils.Css(that.oNext,{display:"block"})};this.oBox.onmouseout=function(){that.timer=setInterval(function(){that.autoMove()},2000);utils.Css(that.oPrev,{display:"none"});utils.Css(that.oNext,{display:"none"})}},handleChange:function handleChange(){var that=this;for(var i=0;i<this.aLi.length;i++){this.aLi[i].index=i;this.aLi[i].onclick=function(){that.step=this.index;that.setBanner()}}},prev_nextClick:function prev_nextClick(){var that=this;this.oPrev.onclick=function(){if(that.step<=0){that.step=that.aDiv.length}that.step--;that.setBanner()};this.oNext.onclick=function(){that.autoMove()}}};(function(){var oSlide=document.getElementById("slide");var oUl=oSlide.getElementsByTagName("ul")[0];var aLi=oUl.getElementsByTagName("li");var oBtn=utils.getByClass("btn",oSlide)[0];var oPrev=oBtn.getElementsByTagName("a")[0];var oNext=oBtn.getElementsByTagName("a")[1];var step=0;utils.Css(oUl,"width",aLi[0].offsetWidth*aLi.length);function autoMove(){if(step>=aLi.length-1){step=0;utils.Css(oUl,"left",0)}step++;animate(oUl,{left:-step*1000})}oPrev.onclick=function(){if(step<=0){step=aLi.length-1;utils.Css(oUl,"left",-step*1000)}step--;animate(oUl,{left:-step*1000})};oNext.onclick=autoMove})();function Apply(){var oApplyHover=utils.getByClass("apply_hover",document)[0];var oApplyMove=utils.getByClass("apply_move",document)[0];var aApplyUl=oApplyHover.getElementsByTagName("ul");var aApplyLi=aApplyUl[0].getElementsByTagName("li");var aApplyMoveDiv=utils.getByClass("apply_move_box",oApplyMove);var aApplyMoveClose=utils.getByClass("apply_move_close",oApplyMove);
for(var i=0;i<aApplyLi.length;i++){aApplyLi[i].index=i;aApplyLi[i].timer=null;aApplyLi[i].onmouseenter=function(){var This=this;clearTimeout(this.timer);this.timer=setTimeout(function(){for(var i=0;i<aApplyLi.length;i++){aApplyMoveDiv[i].style.display="none";utils.removeClass(aApplyLi[i],"active")}aApplyMoveDiv[This.index].style.display="block";utils.addClass(This,"active");utils.addClass(aApplyUl[0],"apply_up_active");animate(aApplyUl[1],{height:0},200,"linear")},150)};aApplyLi[i].onmouseleave=function(){if(!utils.hasClass(this,"active")){clearTimeout(this.timer)}};aApplyMoveClose[i].onclick=function(e){e=e||event;animate(aApplyUl[1],{height:137},200,"linear",function(){utils.removeClass(aApplyUl[0],"apply_up_active")});for(var i=0;i<aApplyLi.length;i++){utils.removeClass(aApplyLi[i],"active")}e.cancelBubble=true}}}Apply();var clothes=document.getElementById("clothes");tabMain(clothes);var makeups=document.getElementById("makeups");tabMain(makeups);var commun=document.getElementById("commun");tabMain(commun);var utensil=document.getElementById("utensil");tabMain(utensil);var Digital=document.getElementById("Digital");tabMain(Digital);var movement=document.getElementById("movement");tabMain(movement);var household=document.getElementById("household");tabMain(household);var toy=document.getElementById("toy");tabMain(toy);var healthFood=document.getElementById("healthFood");tabMain(healthFood);var audioBook=document.getElementById("audioBook");tabMain(audioBook);var carArt=document.getElementById("carArt");tabMain(carArt);function tabMain(obj){var aTab=utils.getByClass("tab",obj)[0];var aLi=aTab.getElementsByTagName("li");var aDiv=utils.getByClass("tabInner",obj);for(var i=0;i<aLi.length;i++){(function(index){aLi[index].onmousemove=function(){for(var i=0;i<aDiv.length;i++){utils.removeClass(aLi[i],"active");utils.addClass(aDiv[i],"hide")}utils.addClass(this,"active");utils.removeClass(aDiv[index],"hide")}})(i)}}(function(){var oRoll=document.getElementById("roll");var oUl=oRoll.getElementsByTagName("ul")[0];var aLi=oRoll.getElementsByTagName("li");var timer=null;oUl.innerHTML+=oUl.innerHTML;oUl.style.height=utils.Css(aLi[0],"height")*aLi.length+"px";var curTop=0;function Scroll(){if(curTop>=aLi.length-1){curTop=0;utils.Css(oUl,"top",0)}curTop++;animate(oUl,{top:-curTop*120})}timer=setInterval(Scroll,3000);oRoll.onmouseover=function(){clearInterval(timer)};oRoll.onmouseout=function(){timer=setInterval(Scroll,3000)}})();(function(){var Main=document.getElementById("main");var Footer=document.getElementById("footer");var elevator=document.getElementById("elevator");var Foo=utils.getByClass("Foo",Main);var I=utils.getByClass("icon-i",Main);var oUl=elevator.getElementsByTagName("ul")[0];var aLi=oUl.getElementsByTagName("li");var stit=utils.getByClass("stit",oUl);var num=1;window.onload=window.onscroll=function(){Top();var scrollTop=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var clientH=document.documentElement.clientHeight||document.body.clientHeight;var scrollTop1=utils.offSet(clothes).top-scrollTop;var scrollTop2=utils.offSet(Footer).top-scrollTop;if(clientH>=(scrollTop1)){oUl.parentNode.style.display="block"}if(clientH>scrollTop2-50||clientH<scrollTop1){oUl.parentNode.style.display="none"}for(var i=0;i<Foo.length;i++){if(scrollTop>=Foo[i].offsetTop+1000){num=i}utils.removeClass(aLi[i],"active");animate(I[i],{backgroundPositionY:"-35px"},1000)}utils.addClass(aLi[num],"active");animate(I[num],{backgroundPositionY:0})}})();function Top(){var oDiv=document.getElementById("top");function scroll(){oDiv.onclick=function(){var target=utils.win("scrollTop");var duration=1000;var interval=10;var step=target/duration*interval;var timer=setInterval(function(){var curTop=utils.win("scrollTop");if(curTop<=0){clearInterval(timer);return}curTop-=step;utils.win("scrollTop",curTop)},interval)}}scroll()};